import { FC } from 'react';
import { HeaderProps } from './types';
import { Flex, Box, useToken, chakra, Button } from '@chakra-ui/react';
import useGetStageColor from '../../hooks/useGetStageColor';
import ActionButton from '../ui-kit/ActionButton/ActionButton';
import { IconLang, IconMenu } from '../../theme/foundations/icons';
import i18n from 'i18next';

const _Header: FC<HeaderProps> = ({ onLangClick, onMenuClick, ...rest }) => {
  const stageColor = useGetStageColor();
  const [currentStageColor] = useToken('colors', [stageColor]);

  console.log(i18n);
  return (
    <Flex as="header" alignItems="center" justifyContent="space-between" {...rest}>
      <Box color="primary" sx={{ svg: { maxW: '100%', h: 'auto' } }} w={{ base: '100px', md: '116px' }}>
        <svg width="116" height="50" viewBox="0 0 116 50" fill="none">
          <rect width="50" height="50" rx="10" fill={currentStageColor} />
          <path
            d="M8 25C8 15.6112 15.6112 8 25 8C34.3888 8 42 15.6112 42 25C42 34.3888 34.3888 42 25 42C15.6112 42 8 34.3888 8 25Z"
            stroke="white"
            strokeWidth="2"
          />
          <path
            d="M23.3948 27.151C23.4212 27.1837 23.4577 27.2114 23.4866 27.2428C23.8564 27.7006 24.4136 28 25.0475 28C26.158 28 27.0585 27.1007 27.0585 25.9888C27.0585 25.3976 26.7994 24.8731 26.3957 24.5046C26.3429 24.4455 26.2951 24.3851 26.2171 24.326L18.0886 18.1401C17.8521 17.9577 17.5113 17.9489 17.2635 18.1401C16.968 18.3678 16.9126 18.7929 17.1403 19.0885L23.3948 27.151Z"
            fill="white"
          />
          <path d="M24 9H26V16C26 16.5523 25.5523 17 25 17C24.4477 17 24 16.5523 24 16V9Z" fill="white" />
          <path
            d="M61.2912 21.5V8.40909H66.2003C67.206 8.40909 68.0497 8.59659 68.7315 8.97159C69.4176 9.34659 69.9354 9.86222 70.2848 10.5185C70.6385 11.1705 70.8153 11.9119 70.8153 12.7429C70.8153 13.5824 70.6385 14.3281 70.2848 14.9801C69.9311 15.6321 69.4091 16.1456 68.7188 16.5206C68.0284 16.8913 67.1783 17.0767 66.1683 17.0767H62.9148V15.1271H65.8487C66.4368 15.1271 66.9183 15.0249 67.2933 14.8203C67.6683 14.6158 67.9453 14.3345 68.1243 13.9766C68.3075 13.6186 68.3991 13.2074 68.3991 12.7429C68.3991 12.2784 68.3075 11.8693 68.1243 11.5156C67.9453 11.1619 67.6662 10.8871 67.2869 10.6911C66.9119 10.4908 66.4283 10.3906 65.8359 10.3906H63.6626V21.5H61.2912ZM84.5726 14.9545C84.5726 16.3651 84.3084 17.5732 83.78 18.5788C83.2559 19.5803 82.54 20.3473 81.6323 20.88C80.7289 21.4126 79.704 21.679 78.5577 21.679C77.4114 21.679 76.3844 21.4126 75.4767 20.88C74.5733 20.343 73.8574 19.5739 73.329 18.5724C72.8049 17.5668 72.5428 16.3608 72.5428 14.9545C72.5428 13.544 72.8049 12.3381 73.329 11.3366C73.8574 10.331 74.5733 9.56179 75.4767 9.02912C76.3844 8.49645 77.4114 8.23011 78.5577 8.23011C79.704 8.23011 80.7289 8.49645 81.6323 9.02912C82.54 9.56179 83.2559 10.331 83.78 11.3366C84.3084 12.3381 84.5726 13.544 84.5726 14.9545ZM82.1884 14.9545C82.1884 13.9616 82.0328 13.1243 81.7218 12.4425C81.415 11.7564 80.9888 11.2386 80.4434 10.8892C79.8979 10.5355 79.2694 10.3587 78.5577 10.3587C77.8461 10.3587 77.2175 10.5355 76.6721 10.8892C76.1266 11.2386 75.6983 11.7564 75.3873 12.4425C75.0804 13.1243 74.927 13.9616 74.927 14.9545C74.927 15.9474 75.0804 16.7869 75.3873 17.473C75.6983 18.1548 76.1266 18.6726 76.6721 19.0263C77.2175 19.3757 77.8461 19.5504 78.5577 19.5504C79.2694 19.5504 79.8979 19.3757 80.4434 19.0263C80.9888 18.6726 81.415 18.1548 81.7218 17.473C82.0328 16.7869 82.1884 15.9474 82.1884 14.9545ZM86.8146 8.40909H89.7166L93.603 17.8949H93.7564L97.6428 8.40909H100.545V21.5H98.2692V12.5064H98.1477L94.5298 21.4616H92.8295L89.2116 12.4872H89.0902V21.5H86.8146V8.40909ZM114.825 14.9545C114.825 16.3651 114.56 17.5732 114.032 18.5788C113.508 19.5803 112.792 20.3473 111.884 20.88C110.981 21.4126 109.956 21.679 108.81 21.679C107.663 21.679 106.636 21.4126 105.729 20.88C104.825 20.343 104.109 19.5739 103.581 18.5724C103.057 17.5668 102.795 16.3608 102.795 14.9545C102.795 13.544 103.057 12.3381 103.581 11.3366C104.109 10.331 104.825 9.56179 105.729 9.02912C106.636 8.49645 107.663 8.23011 108.81 8.23011C109.956 8.23011 110.981 8.49645 111.884 9.02912C112.792 9.56179 113.508 10.331 114.032 11.3366C114.56 12.3381 114.825 13.544 114.825 14.9545ZM112.44 14.9545C112.44 13.9616 112.285 13.1243 111.974 12.4425C111.667 11.7564 111.241 11.2386 110.695 10.8892C110.15 10.5355 109.521 10.3587 108.81 10.3587C108.098 10.3587 107.469 10.5355 106.924 10.8892C106.379 11.2386 105.95 11.7564 105.639 12.4425C105.332 13.1243 105.179 13.9616 105.179 14.9545C105.179 15.9474 105.332 16.7869 105.639 17.473C105.95 18.1548 106.379 18.6726 106.924 19.0263C107.469 19.3757 108.098 19.5504 108.81 19.5504C109.521 19.5504 110.15 19.3757 110.695 19.0263C111.241 18.6726 111.667 18.1548 111.974 17.473C112.285 16.7869 112.44 15.9474 112.44 14.9545ZM65.7273 41.5H61.2912V28.4091H65.8168C67.1165 28.4091 68.233 28.6712 69.1662 29.1953C70.1037 29.7152 70.8239 30.4631 71.3267 31.4389C71.8295 32.4148 72.081 33.5824 72.081 34.9418C72.081 36.3054 71.8274 37.4773 71.3203 38.4574C70.8175 39.4375 70.0909 40.1896 69.1406 40.7138C68.1946 41.2379 67.0568 41.5 65.7273 41.5ZM63.6626 39.4482H65.6122C66.5241 39.4482 67.2848 39.282 67.8942 38.9496C68.5036 38.6129 68.9616 38.1122 69.2685 37.4474C69.5753 36.7784 69.7287 35.9432 69.7287 34.9418C69.7287 33.9403 69.5753 33.1094 69.2685 32.4489C68.9616 31.7841 68.5078 31.2876 67.907 30.9595C67.3104 30.6271 66.5689 30.4609 65.6825 30.4609H63.6626V39.4482ZM86.0316 34.9545C86.0316 36.3651 85.7674 37.5732 85.239 38.5788C84.7148 39.5803 83.9989 40.3473 83.0913 40.88C82.1879 41.4126 81.163 41.679 80.0167 41.679C78.8704 41.679 77.8434 41.4126 76.9357 40.88C76.0323 40.343 75.3164 39.5739 74.788 38.5724C74.2638 37.5668 74.0018 36.3608 74.0018 34.9545C74.0018 33.544 74.2638 32.3381 74.788 31.3366C75.3164 30.331 76.0323 29.5618 76.9357 29.0291C77.8434 28.4964 78.8704 28.2301 80.0167 28.2301C81.163 28.2301 82.1879 28.4964 83.0913 29.0291C83.9989 29.5618 84.7148 30.331 85.239 31.3366C85.7674 32.3381 86.0316 33.544 86.0316 34.9545ZM83.6474 34.9545C83.6474 33.9616 83.4918 33.1243 83.1808 32.4425C82.8739 31.7564 82.4478 31.2386 81.9023 30.8892C81.3569 30.5355 80.7283 30.3587 80.0167 30.3587C79.305 30.3587 78.6765 30.5355 78.131 30.8892C77.5856 31.2386 77.1573 31.7564 76.8462 32.4425C76.5394 33.1243 76.386 33.9616 76.386 34.9545C76.386 35.9474 76.5394 36.7869 76.8462 37.473C77.1573 38.1548 77.5856 38.6726 78.131 39.0263C78.6765 39.3757 79.305 39.5504 80.0167 39.5504C80.7283 39.5504 81.3569 39.3757 81.9023 39.0263C82.4478 38.6726 82.8739 38.1548 83.1808 37.473C83.4918 36.7869 83.6474 35.9474 83.6474 34.9545ZM88.2736 41.5V28.4091H93.1827C94.1884 28.4091 95.0321 28.5838 95.714 28.9332C96.4 29.2827 96.9178 29.7727 97.2672 30.4034C97.6209 31.0298 97.7978 31.7607 97.7978 32.5959C97.7978 33.4354 97.6188 34.1641 97.2608 34.782C96.9071 35.3956 96.3851 35.8707 95.6948 36.2074C95.0044 36.5398 94.1564 36.706 93.1507 36.706H89.6543V34.7372H92.8311C93.4192 34.7372 93.9007 34.6562 94.2757 34.4943C94.6507 34.3281 94.9277 34.0874 95.1067 33.772C95.29 33.4524 95.3816 33.0604 95.3816 32.5959C95.3816 32.1314 95.29 31.7351 95.1067 31.407C94.9235 31.0746 94.6444 30.8232 94.2694 30.6527C93.8944 30.478 93.4107 30.3906 92.8184 30.3906H90.6451V41.5H88.2736ZM95.0364 35.5682L98.2772 41.5H95.6309L92.4476 35.5682H95.0364ZM111.678 34.9545C111.678 36.3651 111.414 37.5732 110.885 38.5788C110.361 39.5803 109.645 40.3473 108.738 40.88C107.834 41.4126 106.809 41.679 105.663 41.679C104.517 41.679 103.49 41.4126 102.582 40.88C101.679 40.343 100.963 39.5739 100.434 38.5724C99.9103 37.5668 99.6483 36.3608 99.6483 34.9545C99.6483 33.544 99.9103 32.3381 100.434 31.3366C100.963 30.331 101.679 29.5618 102.582 29.0291C103.49 28.4964 104.517 28.2301 105.663 28.2301C106.809 28.2301 107.834 28.4964 108.738 29.0291C109.645 29.5618 110.361 30.331 110.885 31.3366C111.414 32.3381 111.678 33.544 111.678 34.9545ZM109.294 34.9545C109.294 33.9616 109.138 33.1243 108.827 32.4425C108.52 31.7564 108.094 31.2386 107.549 30.8892C107.003 30.5355 106.375 30.3587 105.663 30.3587C104.952 30.3587 104.323 30.5355 103.778 30.8892C103.232 31.2386 102.804 31.7564 102.493 32.4425C102.186 33.1243 102.032 33.9616 102.032 34.9545C102.032 35.9474 102.186 36.7869 102.493 37.473C102.804 38.1548 103.232 38.6726 103.778 39.0263C104.323 39.3757 104.952 39.5504 105.663 39.5504C106.375 39.5504 107.003 39.3757 107.549 39.0263C108.094 38.6726 108.52 38.1548 108.827 37.473C109.138 36.7869 109.294 35.9474 109.294 34.9545Z"
            fill="currentColor"
          />
        </svg>
      </Box>
      <Button
        leftIcon={<IconLang />}
        textTransform="uppercase"
        display={{ base: 'none', md: 'inline-flex' }}
        onClick={onLangClick}
      >
        {i18n.resolvedLanguage}
      </Button>
      <ActionButton icon={IconMenu} onClick={onMenuClick} display={{ base: 'flex', md: 'none' }} />
    </Flex>
  );
};

const Header = chakra(_Header);
export default Header;
